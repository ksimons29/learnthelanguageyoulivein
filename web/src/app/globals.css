@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* LLYLI Brand Color Theme */
@theme inline {
  /* Core color mappings */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* Standard shadcn colors */
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  /* LLYLI Custom Colors */
  --color-llyli-teal: var(--llyli-teal);
  --color-llyli-teal-light: var(--llyli-teal-light);
  --color-llyli-coral: var(--llyli-coral);
  --color-llyli-coral-light: var(--llyli-coral-light);
  --color-llyli-cream: var(--llyli-cream);
  --color-llyli-beige: var(--llyli-beige);
  --color-llyli-muted: var(--llyli-muted);
  --color-llyli-taupe: var(--llyli-taupe);
  --color-llyli-brown: var(--llyli-brown);

  /* Semantic feedback colors */
  --color-success: var(--success);
  --color-success-light: var(--success-light);
  --color-warning: var(--warning);
  --color-warning-light: var(--warning-light);
  --color-danger: var(--danger);
  --color-danger-light: var(--danger-light);

  /* Border radius */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

:root {
  --radius: 0.75rem;

  /* ======================
     MOLESKINE COLOR SYSTEM
     ====================== */

  /* Surface Hierarchy - Like notebook pages stacked */
  --surface-notebook: #F8F3E7;      /* The notebook paper background */
  --surface-page: #FFFFFF;           /* Individual card/page surfaces */
  --surface-page-aged: #FBF8F0;      /* Slightly warmer page variant */
  --surface-binding: #0C6B70;        /* Teal - notebook cover peeking through */

  /* Accent System - The "Ribbon" Rule */
  /* CRITICAL: Coral appears as ONE accent element per screen maximum */
  --accent-ribbon: #E85C4A;          /* Coral - primary action, like Moleskine's elastic */
  --accent-ribbon-hover: #D94E3E;    /* Darker coral for hover states */
  --accent-ribbon-light: #FEF2F0;    /* Very light coral for subtle highlights */

  /* Navigation & Progress - Secondary accent */
  --accent-nav: #0C6B70;             /* Teal for active navigation states */
  --accent-nav-light: #E8F4F4;       /* Light teal for backgrounds */

  /* Text Hierarchy */
  --text-heading: #1D262A;           /* Ink black for headings */
  --text-body: #2D3436;              /* Slightly softer for body */
  --text-muted: #6C7275;             /* Secondary text, captions */
  --text-on-ribbon: #FFFFFF;         /* White text on coral accent */
  --text-on-binding: #F8F3E7;        /* Cream text on teal */

  /* Notebook Details */
  --notebook-stitch: rgba(108, 114, 117, 0.25);  /* Binding stitch marks */
  --notebook-ruling: rgba(108, 114, 117, 0.08);  /* Faint ruled lines */
  --notebook-shadow: rgba(28, 38, 42, 0.06);     /* Subtle page shadow */
  --notebook-shadow-hover: rgba(28, 38, 42, 0.12);

  /* Semantic States - Grading (Moleskine-themed) */
  --state-hard: #8C5B52;             /* Deep brown - struggle */
  --state-hard-bg: #FAF0EE;
  --state-good: #B58B82;             /* Warm taupe - acceptable */
  --state-good-bg: #FAF5F3;
  --state-easy: #5B7979;             /* Muted teal - mastery */
  --state-easy-bg: #F0F5F5;

  /* ======================
     TYPOGRAPHY SYSTEM
     ====================== */

  --font-heading: 'Libre Baskerville', 'Georgia', serif;
  --font-body: 'Inter', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', monospace;

  /* Type Scale */
  --text-xs: 0.75rem;    /* 12px */
  --text-sm: 0.875rem;   /* 14px */
  --text-base: 1rem;     /* 16px */
  --text-lg: 1.125rem;   /* 18px */
  --text-xl: 1.25rem;    /* 20px */
  --text-2xl: 1.5rem;    /* 24px */
  --text-3xl: 1.875rem;  /* 30px */

  /* ======================
     SPACING & LAYOUT
     ====================== */

  --space-1: 0.25rem;    /* 4px */
  --space-2: 0.5rem;     /* 8px */
  --space-3: 0.75rem;    /* 12px */
  --space-4: 1rem;       /* 16px */
  --space-5: 1.25rem;    /* 20px */
  --space-6: 1.5rem;     /* 24px */
  --space-8: 2rem;       /* 32px */

  /* Notebook-specific spacing */
  --binding-width: 1rem;             /* Left binding strip width */
  --page-inset: 1.25rem;             /* Content padding inside pages */

  /* ======================
     BORDERS & RADII
     ====================== */

  /* Moleskine corners: rounded on right, square on left (binding side) */
  --radius-none: 0;
  --radius-page: 0 0.5rem 0.5rem 0;  /* Right side only - key differentiator */
  --radius-full: 9999px;

  /* ======================
     SHADOWS - Page Stack Effect
     ====================== */

  --shadow-page:
    0 2px 8px rgba(0, 0, 0, 0.08),
    0 1px 3px rgba(0, 0, 0, 0.06);

  --shadow-page-hover:
    0 6px 16px rgba(0, 0, 0, 0.1),
    0 3px 6px rgba(0, 0, 0, 0.08);

  --shadow-page-stack:
    0 1px 2px var(--notebook-shadow),
    2px 2px 0 var(--surface-page),
    2px 3px 2px var(--notebook-shadow),
    4px 4px 0 var(--surface-page),
    4px 5px 2px var(--notebook-shadow);

  /* Elevated shadow for cards */
  --shadow-elevated:
    0 4px 12px rgba(0, 0, 0, 0.08),
    0 2px 4px rgba(0, 0, 0, 0.04);

  /* ======================
     TRANSITIONS
     ====================== */

  --transition-fast: 150ms ease;
  --transition-base: 200ms ease;
  --transition-slow: 300ms ease;
  --transition-page: 400ms cubic-bezier(0.4, 0, 0.2, 1);

  /* ======================
     LEGACY LLYLI BRAND COLORS
     (kept for backwards compatibility)
     ====================== */
  --llyli-teal: #0C6B70;
  --llyli-teal-light: #E8F4F4;
  --llyli-coral: #E85C4A;
  --llyli-coral-light: #FEF2F0;
  --llyli-cream: #F8F3E7;
  --llyli-beige: #EFE1D6;
  --llyli-muted: #5B7979;
  --llyli-taupe: #B58B82;
  --llyli-brown: #8C5B52;

  /* Semantic Colors (Moleskine-themed) */
  --success: #5B7979;              /* Muted teal - mastery */
  --success-light: #F0F5F5;
  --warning: #B58B82;              /* Warm taupe - good */
  --warning-light: #FAF5F3;
  --danger: #8C5B52;               /* Deep brown - hard */
  --danger-light: #FAF0EE;

  /* Core UI Colors - mapped to Moleskine */
  --background: #F8F3E7;           /* Cream notebook background */
  --foreground: #1D262A;           /* Ink black text */
  --card: #FFFFFF;                 /* White page surface */
  --card-foreground: #2D3436;      /* Body text */
  --popover: #FFFFFF;
  --popover-foreground: #2D3436;
  --primary: #0C6B70;              /* Teal - navigation */
  --primary-foreground: #F8F3E7;   /* Cream on teal */
  --secondary: #E8F4F4;            /* Light teal */
  --secondary-foreground: #0C6B70;
  --muted: #F8F3E7;                /* Cream muted */
  --muted-foreground: #6C7275;     /* Muted text */
  --accent: #E85C4A;               /* Coral ribbon */
  --accent-foreground: #FFFFFF;
  --destructive: #8C5B52;          /* Deep brown */
  --border: rgba(108, 114, 117, 0.25);  /* Stitch color */
  --input: #FBF8F0;                /* Aged page for inputs */
  --ring: #0C6B70;                 /* Teal focus ring */
}

.dark {
  /* ======================
     DARK MODE: "Premium Leather Journal"
     Inspired by Notion, Linear, Arc - sophisticated
     warmth like a candlelit study with a Moleskine
     ====================== */

  /* Surface Hierarchy - Rich, layered darkness */
  --surface-notebook: #161819;           /* Deep charcoal base - like aged leather */
  --surface-page: #1E2023;               /* Elevated card surface */
  --surface-page-aged: #252830;          /* Slightly warmer variant for depth */
  --surface-binding: #1A4F52;            /* Dark teal binding - still visible */
  --surface-elevated: #282B30;           /* Hover/interactive surface */

  /* Accent System - Vibrant against dark */
  --accent-ribbon: #F06B5B;              /* Brightened coral for dark backgrounds */
  --accent-ribbon-hover: #F7867A;        /* Even lighter on hover */
  --accent-ribbon-light: rgba(240, 107, 91, 0.12);
  --accent-ribbon-glow: rgba(240, 107, 91, 0.25);

  --accent-nav: #3DB4BB;                 /* Brighter teal - pops on dark */
  --accent-nav-hover: #5CC5CB;
  --accent-nav-light: rgba(61, 180, 187, 0.12);
  --accent-nav-glow: rgba(61, 180, 187, 0.2);

  /* Text Hierarchy - Warm cream palette */
  --text-heading: #F2EDE4;               /* Warm cream for headings */
  --text-body: #C8C3B8;                  /* Soft taupe for body */
  --text-muted: #7A7670;                 /* Warm gray - not cold */
  --text-subtle: #5A5650;                /* Very muted, for dividers */
  --text-on-ribbon: #FFFFFF;
  --text-on-binding: #F2EDE4;

  /* Notebook Details - Visible but subtle */
  --notebook-stitch: rgba(200, 195, 184, 0.18);
  --notebook-ruling: rgba(200, 195, 184, 0.05);
  --notebook-shadow: rgba(0, 0, 0, 0.5);
  --notebook-shadow-hover: rgba(0, 0, 0, 0.6);

  /* Semantic States - Balanced for dark */
  --state-hard: #E8A090;                 /* Warm rose - visible */
  --state-hard-bg: rgba(232, 160, 144, 0.12);
  --state-good: #D4B8A8;                 /* Soft taupe */
  --state-good-bg: rgba(212, 184, 168, 0.12);
  --state-easy: #7EC4C4;                 /* Bright teal */
  --state-easy-bg: rgba(126, 196, 196, 0.12);

  /* Core UI Colors - Dark Mode */
  --background: #161819;                 /* Deep base */
  --foreground: #F2EDE4;                 /* Warm cream */
  --card: #1E2023;                       /* Card surface */
  --card-foreground: #C8C3B8;            /* Warm body text */
  --popover: #252830;
  --popover-foreground: #C8C3B8;
  --primary: #3DB4BB;                    /* Bright teal */
  --primary-foreground: #161819;
  --secondary: rgba(61, 180, 187, 0.12);
  --secondary-foreground: #3DB4BB;
  --muted: #252830;
  --muted-foreground: #7A7670;
  --accent: #F06B5B;                     /* Bright coral */
  --accent-foreground: #FFFFFF;
  --destructive: #E8A090;
  --border: rgba(200, 195, 184, 0.1);
  --input: #252830;
  --ring: #3DB4BB;

  /* Legacy LLYLI colors - dark variants */
  --llyli-teal: #3DB4BB;
  --llyli-teal-light: rgba(61, 180, 187, 0.12);
  --llyli-coral: #F06B5B;
  --llyli-coral-light: rgba(240, 107, 91, 0.12);
  --llyli-cream: #161819;
  --llyli-beige: #252830;

  /* Semantic Colors */
  --success: #7EC4C4;
  --success-light: rgba(126, 196, 196, 0.12);
  --warning: #D4B8A8;
  --warning-light: rgba(212, 184, 168, 0.12);
  --danger: #E8A090;
  --danger-light: rgba(232, 160, 144, 0.12);

  /* Dark mode shadows - deeper and more dramatic */
  --shadow-page:
    0 2px 8px rgba(0, 0, 0, 0.4),
    0 8px 24px rgba(0, 0, 0, 0.3);

  --shadow-page-hover:
    0 4px 12px rgba(0, 0, 0, 0.5),
    0 12px 32px rgba(0, 0, 0, 0.4);

  --shadow-elevated:
    0 4px 16px rgba(0, 0, 0, 0.5),
    0 8px 32px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.02);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground antialiased;
  }
}

/* ======================
   MOLESKINE UTILITY CLASSES
   Authentic notebook textures & effects
   ====================== */

@layer utilities {
  /* ========================================
     REALISTIC PAPER TEXTURES
     ======================================== */

  /* Main notebook background - cream paper with visible grain */
  .notebook-bg {
    background-color: #F5EFE0;
    background-image:
      /* Paper fiber texture */
      url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='paper'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.04' numOctaves='5' stitchTiles='stitch' result='noise'/%3E%3CfeDiffuseLighting in='noise' lighting-color='%23F5EFE0' surfaceScale='2'%3E%3CfeDistantLight azimuth='45' elevation='60'/%3E%3C/feDiffuseLighting%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23paper)'/%3E%3C/svg%3E"),
      /* Subtle warm gradient */
      linear-gradient(180deg, rgba(245, 239, 224, 1) 0%, rgba(240, 232, 215, 1) 100%);
    background-blend-mode: overlay, normal;
  }

  /* Dark mode notebook background - premium leather texture */
  .dark .notebook-bg {
    background-color: #161819;
    background-image:
      /* Subtle grain texture for depth */
      url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='leather'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.02' numOctaves='3' stitchTiles='stitch' result='noise'/%3E%3CfeDiffuseLighting in='noise' lighting-color='%23161819' surfaceScale='0.8'%3E%3CfeDistantLight azimuth='45' elevation='65'/%3E%3C/feDiffuseLighting%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23leather)'/%3E%3C/svg%3E"),
      /* Subtle warm gradient from top */
      linear-gradient(180deg, rgba(30, 32, 35, 0.5) 0%, rgba(22, 24, 25, 1) 100%);
    background-blend-mode: soft-light, normal;
  }

  /* Page surface - white with subtle texture */
  .page-surface {
    background-color: #FFFEF9;
    background-image:
      /* Very subtle paper grain */
      url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='grain'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23grain)' opacity='0.02'/%3E%3C/svg%3E");
  }

  .dark .page-surface {
    background-color: #1E2023;
    background-image: none;
  }

  /* Aged paper look */
  .page-aged {
    background: linear-gradient(
      135deg,
      #FFFEF9 0%,
      #FBF8F0 50%,
      #F8F3E7 100%
    );
    box-shadow: inset 0 0 60px rgba(139, 119, 91, 0.05);
  }

  /* ========================================
     NOTEBOOK COVER & BINDING
     ======================================== */

  /* Moleskine cover texture - like soft leather */
  .cover-texture {
    background-color: #1A1A1A;
    background-image:
      url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='leather'%3E%3CfeTurbulence type='turbulence' baseFrequency='0.05' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23leather)' opacity='0.15'/%3E%3C/svg%3E");
  }

  /* Binding spine with stitching */
  .binding-spine {
    position: relative;
    background: linear-gradient(
      90deg,
      #0A5A5E 0%,
      #0C6B70 50%,
      #0A5A5E 100%
    );
  }

  .binding-spine::before {
    content: '';
    position: absolute;
    left: 50%;
    top: 8px;
    bottom: 8px;
    width: 2px;
    background-image: repeating-linear-gradient(
      to bottom,
      transparent 0px,
      transparent 6px,
      rgba(248, 243, 231, 0.4) 6px,
      rgba(248, 243, 231, 0.4) 10px
    );
    transform: translateX(-50%);
  }

  /* ========================================
     PAGE CARDS WITH DEPTH
     ======================================== */

  /* Single page card */
  .notebook-card {
    position: relative;
    background: #FFFEF9;
    border-radius: 0 8px 8px 0;
    box-shadow:
      /* Main shadow */
      0 1px 3px rgba(0, 0, 0, 0.08),
      0 4px 6px rgba(0, 0, 0, 0.04),
      /* Left edge shadow for depth */
      inset 4px 0 8px -4px rgba(0, 0, 0, 0.06);
  }

  .dark .notebook-card {
    background: #1E2023;
    border: 1px solid rgba(200, 195, 184, 0.06);
    box-shadow:
      0 2px 8px rgba(0, 0, 0, 0.4),
      0 8px 24px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.02);
  }

  /* Page with visible stack underneath */
  .page-stack-3d {
    position: relative;
  }

  .page-stack-3d::before,
  .page-stack-3d::after {
    content: '';
    position: absolute;
    left: 4px;
    right: 0;
    background: #FFFEF9;
    border-radius: 0 8px 8px 0;
    z-index: -1;
  }

  .page-stack-3d::before {
    bottom: -4px;
    height: 100%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.06);
    opacity: 0.7;
  }

  .page-stack-3d::after {
    bottom: -8px;
    height: 100%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
    opacity: 0.4;
  }

  .dark .page-stack-3d::before,
  .dark .page-stack-3d::after {
    background: #1A1C1E;
    border: 1px solid rgba(200, 195, 184, 0.04);
  }

  .dark .page-stack-3d::before {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    opacity: 0.8;
  }

  .dark .page-stack-3d::after {
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
    opacity: 0.5;
  }

  /* ========================================
     BINDING STRIP (Left Edge)
     ======================================== */

  /* Binding with thread stitching */
  .binding-edge-stitched {
    position: relative;
    margin-left: 20px;
  }

  .binding-edge-stitched::before {
    content: '';
    position: absolute;
    left: -20px;
    top: -8px;
    bottom: -8px;
    width: 20px;
    background: linear-gradient(
      90deg,
      #0A5A5E 0%,
      #0C6B70 40%,
      #F5EFE0 40%,
      #F5EFE0 100%
    );
    border-radius: 4px 0 0 4px;
  }

  /* Stitching dots */
  .binding-edge-stitched::after {
    content: '';
    position: absolute;
    left: -12px;
    top: 12px;
    bottom: 12px;
    width: 2px;
    background-image: repeating-linear-gradient(
      to bottom,
      transparent 0px,
      transparent 8px,
      rgba(248, 243, 231, 0.6) 8px,
      rgba(248, 243, 231, 0.6) 14px
    );
    z-index: 2;
  }

  /* Dark mode binding */
  .dark .binding-edge-stitched::before {
    background: linear-gradient(
      90deg,
      #1A4F52 0%,
      #1F6065 40%,
      #1E2023 40%,
      #1E2023 100%
    );
  }

  .dark .binding-edge-stitched::after {
    background-image: repeating-linear-gradient(
      to bottom,
      transparent 0px,
      transparent 8px,
      rgba(200, 195, 184, 0.25) 8px,
      rgba(200, 195, 184, 0.25) 14px
    );
  }

  /* ========================================
     RULED LINES (Notebook Paper)
     ======================================== */

  /* Horizontal ruled lines */
  .ruled-lines {
    background-image: repeating-linear-gradient(
      to bottom,
      transparent 0px,
      transparent 27px,
      rgba(180, 170, 155, 0.25) 27px,
      rgba(180, 170, 155, 0.25) 28px
    );
    background-position: 0 12px;
  }

  /* Ruled lines with margin line */
  .ruled-with-margin {
    background-image:
      /* Margin line - red/pink like real notebooks */
      linear-gradient(
        90deg,
        transparent 0px,
        transparent 40px,
        rgba(220, 120, 120, 0.3) 40px,
        rgba(220, 120, 120, 0.3) 41px,
        transparent 41px
      ),
      /* Horizontal rules */
      repeating-linear-gradient(
        to bottom,
        transparent 0px,
        transparent 27px,
        rgba(180, 170, 155, 0.25) 27px,
        rgba(180, 170, 155, 0.25) 28px
      );
    background-position: 0 0, 0 12px;
  }

  /* ========================================
     RIBBON BOOKMARK
     ======================================== */

  /* Ribbon hanging from top */
  .ribbon-bookmark {
    position: relative;
  }

  .ribbon-bookmark::before {
    content: '';
    position: absolute;
    top: 0;
    right: 24px;
    width: 12px;
    height: 80px;
    background: linear-gradient(
      180deg,
      #E85C4A 0%,
      #D94E3E 100%
    );
    border-radius: 0 0 2px 2px;
    box-shadow:
      1px 2px 3px rgba(0, 0, 0, 0.15),
      inset -2px 0 4px rgba(255, 255, 255, 0.1);
    z-index: 10;
  }

  /* Ribbon tail (V-cut at bottom) */
  .ribbon-bookmark::after {
    content: '';
    position: absolute;
    top: 80px;
    right: 24px;
    width: 0;
    height: 0;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-top: 10px solid #D94E3E;
    z-index: 10;
  }

  /* Dark mode ribbon - slightly brighter coral */
  .dark .ribbon-bookmark::before {
    background: linear-gradient(
      180deg,
      #F06B5B 0%,
      #E05A4A 100%
    );
    box-shadow:
      1px 2px 6px rgba(0, 0, 0, 0.4),
      inset -2px 0 4px rgba(255, 255, 255, 0.08);
  }

  .dark .ribbon-bookmark::after {
    border-top-color: #E05A4A;
  }

  /* Small ribbon accent */
  .ribbon-tab {
    position: relative;
  }

  .ribbon-tab::before {
    content: '';
    position: absolute;
    top: 0;
    left: 20px;
    width: 8px;
    height: 40px;
    background: linear-gradient(180deg, #E85C4A 0%, #D94E3E 100%);
    border-radius: 0 0 2px 2px;
    box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
  }

  /* ========================================
     PAGE CORNER EFFECTS
     ======================================== */

  /* Subtle page curl */
  .page-curl {
    position: relative;
    overflow: hidden;
  }

  .page-curl::after {
    content: '';
    position: absolute;
    bottom: 0;
    right: 0;
    width: 30px;
    height: 30px;
    background: linear-gradient(
      315deg,
      rgba(0, 0, 0, 0.03) 0%,
      rgba(0, 0, 0, 0.08) 45%,
      transparent 50%
    );
    border-radius: 0 0 8px 0;
    pointer-events: none;
  }

  /* Dog-ear fold */
  .page-dogear {
    position: relative;
    overflow: hidden;
  }

  .page-dogear::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 0;
    height: 0;
    border-style: solid;
    border-width: 0 20px 20px 0;
    border-color: transparent #F5EFE0 transparent transparent;
    box-shadow: -1px 1px 2px rgba(0, 0, 0, 0.05);
  }

  .page-dogear::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 20px;
    height: 20px;
    background: linear-gradient(
      135deg,
      rgba(0, 0, 0, 0.06) 0%,
      transparent 50%
    );
  }

  /* ========================================
     INK & TYPOGRAPHY EFFECTS
     ======================================== */

  /* Heading with serif font */
  .heading-serif {
    font-family: var(--font-heading);
    font-weight: 400;
    letter-spacing: -0.02em;
    color: #1D262A;
  }

  /* Ink-like text */
  .ink-text {
    color: #1D262A;
    text-shadow: 0 0 0.5px rgba(29, 38, 42, 0.3);
  }

  /* Handwritten feel (slightly irregular) */
  .handwritten {
    font-family: var(--font-heading);
    font-style: italic;
    letter-spacing: 0.01em;
    transform: rotate(-0.5deg);
  }

  /* ========================================
     SHADOWS & DEPTH
     ======================================== */

  /* Lifted page shadow */
  .shadow-lifted {
    box-shadow:
      0 1px 2px rgba(0, 0, 0, 0.06),
      0 2px 4px rgba(0, 0, 0, 0.06),
      0 4px 8px rgba(0, 0, 0, 0.06),
      0 8px 16px rgba(0, 0, 0, 0.04);
  }

  /* Deep inset shadow for recessed areas */
  .shadow-inset-page {
    box-shadow:
      inset 0 2px 4px rgba(0, 0, 0, 0.04),
      inset 0 4px 8px rgba(0, 0, 0, 0.02);
  }

  /* Page edge shadow (visible page thickness) */
  .page-edge-shadow {
    box-shadow:
      /* Top pages */
      0 -1px 0 #FFFEF9,
      0 -2px 0 #F8F3E7,
      0 -3px 0 #F0EBE0,
      0 -4px 1px rgba(0, 0, 0, 0.03),
      /* Main shadow */
      0 4px 12px rgba(0, 0, 0, 0.08);
  }

  /* ========================================
     ELASTIC BAND (Moleskine iconic feature)
     ======================================== */

  .elastic-band {
    position: relative;
  }

  .elastic-band::before {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    right: 16px;
    width: 6px;
    background: linear-gradient(
      90deg,
      rgba(0, 0, 0, 0.2) 0%,
      #1A1A1A 20%,
      #2A2A2A 50%,
      #1A1A1A 80%,
      rgba(0, 0, 0, 0.2) 100%
    );
    border-radius: 3px;
    z-index: 20;
  }

  /* ========================================
     INTERACTIVE STATES
     ======================================== */

  /* Card hover - slight lift */
  .card-hover-lift {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .card-hover-lift:hover {
    transform: translateY(-2px);
    box-shadow:
      0 4px 8px rgba(0, 0, 0, 0.08),
      0 8px 16px rgba(0, 0, 0, 0.06);
  }

  .dark .card-hover-lift:hover {
    box-shadow:
      0 4px 12px rgba(0, 0, 0, 0.5),
      0 8px 24px rgba(0, 0, 0, 0.4);
  }

  /* Page turn animation prep */
  .page-turn {
    transform-origin: left center;
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* ========================================
     LEGACY UTILITIES (backwards compatible)
     ======================================== */

  /* Legacy aliases - redefined inline for Tailwind v4 compatibility */
  .paper-texture {
    background-color: #F5EFE0;
    background-image:
      url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='paper'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.04' numOctaves='5' stitchTiles='stitch' result='noise'/%3E%3CfeDiffuseLighting in='noise' lighting-color='%23F5EFE0' surfaceScale='2'%3E%3CfeDistantLight azimuth='45' elevation='60'/%3E%3C/feDiffuseLighting%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23paper)'/%3E%3C/svg%3E"),
      linear-gradient(180deg, rgba(245, 239, 224, 1) 0%, rgba(240, 232, 215, 1) 100%);
    background-blend-mode: overlay, normal;
  }

  .paper-grain {
    background-color: #FFFEF9;
    background-image:
      url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='grain'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23grain)' opacity='0.02'/%3E%3C/svg%3E");
  }

  .binding-edge {
    position: relative;
    margin-left: 20px;
  }

  .page-stack {
    position: relative;
  }

  .page-corner {
    position: relative;
    overflow: hidden;
  }

  .ribbon-accent {
    position: relative;
  }

  /* Color utilities */
  .text-llyli-teal { color: var(--llyli-teal); }
  .bg-llyli-teal { background-color: var(--llyli-teal); }
  .text-llyli-coral { color: var(--llyli-coral); }
  .bg-llyli-coral { background-color: var(--llyli-coral); }
  .bg-llyli-cream { background-color: var(--llyli-cream); }
  .bg-llyli-beige { background-color: var(--llyli-beige); }
  .border-llyli-teal { border-color: var(--llyli-teal); }
  .text-success { color: var(--success); }
  .bg-success { background-color: var(--success); }
  .bg-success-light { background-color: var(--success-light); }
  .text-warning { color: var(--warning); }
  .bg-warning { background-color: var(--warning); }
  .bg-warning-light { background-color: var(--warning-light); }
  .text-danger { color: var(--danger); }
  .bg-danger { background-color: var(--danger); }
  .bg-danger-light { background-color: var(--danger-light); }
}
